<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head th:replace="~{public/fragments/commons :: head}"></head>
    <body>
        <div class="site_wrapper">
            <div th:replace="~{public/fragments/commons :: header}"></div>
            <div class="clearfix"></div>

            <section class="sec-moreless-padding">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <div class="alert alert-success" th:if="${mensaje}">
                                <strong class="text-success"><h4 th:text="${mensaje}"></h4></strong>
                            </div>

                            <div class="alert alert-info" th:if="${param.logout}">
                                <strong class="text-info"><h4>Has cerrado sesi√≥n correctamente</h4></strong>
                            </div>

                            <div class="alert alert-danger" th:if="${param.error}">
                                <strong class="text-danger"><h4>N√∫mero de Contrato y/o Contrase√±a incorrectos</h4></strong>
                            </div>
                        </div>
                        <hr>
                    </div>

                    <div class="row text-center">
                        <div class="col-12">
                            <div class="container" style="display: flex; align-items: center; justify-content: center;">
                                <div class="container-login">
                                    <div class="tab-header">
                                        <button class="tab-button active" data-tab="tab1">Login Tradicional</button>
                                        <button class="tab-button" data-tab="tab2">Login por Token</button>
                                    </div>
    
                                    <div class="tab-content">
                                        <!-- Login Tradicional -->
                                        <div class="tab-panel active" id="tab1">
                                            <h2 class="h2-login">Bienvenido</h2>
                                            <p class="subtitle">Ingresa con tu <strong>N√∫mero de Contrato</strong> y <strong>Contrase√±a</strong></p>
                                            
                                            <form id="traditionalForm" th:action="@{/login}" method="post">
                                                <div class="form-group">
                                                    <label for="contract-number">N√∫mero de Contrato</label>
                                                    <input type="text" id="contract-number" name="contract-number" required>
                                                </div>
                                                
                                                <div class="form-group">
                                                    <label for="password">Contrase√±a</label>
                                                    <div class="password-input-group">
                                                        <input type="password" id="password" name="password" required>
                                                        <button type="button" class="toggle-password" id="togglePassword">
                                                            <span class="eye-icon">üëÅÔ∏è</span>
                                                        </button>
                                                    </div>
                                                </div>
                                                
                                                <button type="submit" class="btn-login">Iniciar Sesi√≥n</button>
                                                
                                                <div class="forgot-password">
                                                    <a th:href="@{/recuperar-password}">¬øOlvidaste tu contrase√±a?</a>
                                                </div>
                                            </form>
    
                                            <div class="divider">
                                                <span></span>
                                            </div>
                                        </div>
    
                                        <!-- Login por SMS -->
                                        <div class="tab-panel" id="tab2">
                                            <h2 class="h2-login">Login por Token</h2>
                                            <p class="subtitle">Ingresa tu <strong>N√∫mero de Contrato</strong> y recibir√°s un link de acceso.</p>
    
                                            <div class="info-box">
                                                üì± Te enviaremos un link de acceso a tu email registrado con tu contrato.
                                            </div>
    
                                            <form th:action="@{/ml/generate}" method="post">
                                                <div class="form-group">
                                                    <label for="username">N√∫mero de Contrato</label>
    
                                                    <div class="phone-input-group">
                                                        <input type="text" id="username" name="username" required>
                                                    </div>
                                                </div>
                                                
                                                <button type="submit" class="btn-login">Solicitar Token</button>
                                            </form>
    
                                            <div class="divider">
                                                <span></span>
                                            </div>
    
                                            <div style="text-align: center; color: #6c757d; font-size: 13px; line-height: 1.6;">
                                                Al continuar, aceptas recibir un correo electr√≥nico con el link de acceso.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <br><br>
                        <div class="col-xs-12 text-center">
                            <p>Le recomendamos que para la consulta de su estado de cuenta y utilizar los servicios de en l√≠nea de la Casa de Bolsa, no lo haga a trav√©s de redes p√∫blicas, es mejor esperar y ocupar una red segura y privada.</p>
                        </div>
                    </div>
                </div>
            </section>
            <!--end section-->
            <div class="clearfix"></div>

            <section th:replace="~{public/fragments/commons :: section-organizations}"></section>
            <!--end section -->
            <div class="clearfix"></div>

            <div th:replace="~{public/fragments/commons :: section-contact}"></div>
            <!--end section -->
            <div class="clearfix"></div>

            <div th:replace="~{public/fragments/commons :: section-navigation}"></div>
            <!--end section -->
            <div class="clearfix"></div>
            
            
            <div th:replace="~{public/fragments/commons :: section-credits}"></div>
            <!--end section -->
            <div class="clearfix"></div>

            <div class="contacto-pop colorBM"><a href="#" data-toggle="modal" data-target="#MainMenu-BM-contacto"><i class="fa fa-envelope"></i> Cont√°ctanos</a></div>
            <a href="#" class="scrollup colorBM"></a><!-- end scroll to top of the page--> 
        </div>

        <div th:replace="~{public/fragments/commons :: modals}"></div>
        
        <div th:replace="~{public/fragments/commons :: js-dependencies}"></div>
    </body>
</html>
